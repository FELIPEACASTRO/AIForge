# Code Refactoring Prompts

## Description
A refatoração de código com o uso de Inteligência Artificial (IA) é o processo de reestruturar o código-fonte existente para melhorar sua estrutura interna, design e legibilidade, sem alterar seu comportamento externo. O objetivo principal é aumentar a manutenibilidade, extensibilidade e eficiência do código. A IA generativa, como o ChatGPT, atua como um assistente de codificação, permitindo que os desenvolvedores usem prompts de linguagem natural para solicitar melhorias específicas, como a aplicação de padrões de design (e.g., Factory Pattern), a eliminação de duplicação de código, a melhoria da performance, a adesão a princípios de código limpo (e.g., SOLID) e a implementação de práticas de codificação segura. O uso de prompts bem elaborados é crucial para guiar a IA a produzir refatorações precisas e contextualmente relevantes, transformando um processo que era demorado em uma tarefa mais rápida e segura, especialmente quando combinado com testes unitários para validação. [1]

## Examples
```
**1. Refatoração para Padrão de Design:** "Refatore o seguinte código Java para implementar o padrão Factory. O objetivo é desacoplar a criação de objetos da lógica de uso. Mantenha a funcionalidade original. [Insira o código Java aqui]" **2. Melhoria de Performance:** "Analise este script Python e sugira refatorações para melhorar seu desempenho, focando na otimização de loops e estruturas de dados. [Insira o código Python aqui]" **3. Eliminação de Duplicação (DRY):** "Identifique e elimine a duplicação de código neste módulo JavaScript. Crie uma função de utilidade reutilizável para o código repetido. [Insira o código JavaScript aqui]" **4. Aplicação de Princípios SOLID:** "Refatore esta classe C# para aderir ao Princípio da Responsabilidade Única (SRP) do SOLID. Divida a classe em componentes menores se necessário. [Insira o código C# aqui]" **5. Melhoria de Legibilidade e Idiomaticidade:** "Refatore esta função em JavaScript para usar recursos modernos, como `async/await` e *arrow functions*, tornando-a mais idiomática e legível. [Insira o código JavaScript aqui]" **6. Refatoração de Segurança:** "Refatore este trecho de código para implementar práticas de codificação segura, especificamente validação de entrada e *output encoding*, para prevenir XSS. [Insira o código aqui]" **7. Refatoração de Código Legado:** "Este é um trecho de código legado em PHP. Refatore-o para usar a sintaxe moderna do PHP 8, melhorando a clareza e a manutenibilidade. [Insira o código PHP aqui]"
```

## Best Practices
**1. Forneça Contexto Completo:** Inclua o trecho de código completo a ser refatorado, o idioma de programação e o objetivo específico da refatoração (e.g., "melhorar a performance", "aumentar a legibilidade", "aplicar o padrão Observer"). **2. Defina Restrições e Princípios:** Peça explicitamente à IA para aderir a princípios de código limpo (e.g., SOLID, DRY) ou a padrões de design específicos. **3. Use Testes como Validação:** Sempre que possível, inclua testes unitários ou peça à IA para gerar testes antes e depois da refatoração para garantir que o comportamento externo do código não foi alterado. **4. Refatoração Incremental:** Para bases de código grandes, solicite refatorações em partes menores e gerenciáveis, em vez de tentar refatorar todo o arquivo de uma vez. **5. Peça Explicações:** Solicite que a IA explique as mudanças feitas e justifique as decisões de design, o que serve como uma revisão de código e uma oportunidade de aprendizado.

## Use Cases
**1. Melhoria de Manutenibilidade:** Reestruturar módulos complexos para facilitar a compreensão e a manutenção por novos membros da equipe. **2. Otimização de Performance:** Identificar e reescrever gargalos de código (e.g., algoritmos ineficientes, consultas de banco de dados) para reduzir o tempo de execução. **3. Aplicação de Padrões:** Converter código procedural em código orientado a objetos ou aplicar padrões de design (e.g., Singleton, Strategy) para aumentar a flexibilidade e a reutilização. **4. Aumento da Testabilidade:** Refatorar código para torná-lo mais modular e desacoplado, facilitando a escrita de testes unitários. **5. Modernização de Código Legado:** Atualizar a sintaxe e as práticas de código antigo para as versões mais recentes da linguagem de programação, reduzindo a dívida técnica. **6. Reforço de Segurança:** Inserir ou melhorar mecanismos de segurança (e.g., validação de entrada, tratamento de exceções) em áreas vulneráveis do código.

## Pitfalls
**1. Confiança Excessiva:** Aceitar a refatoração da IA sem uma revisão humana e sem a execução de testes. A IA pode introduzir erros sutis ou quebrar a lógica de negócios. **2. Falta de Contexto:** Fornecer apenas um pequeno trecho de código sem o contexto do projeto (e.g., dependências, variáveis globais), levando a refatorações incompletas ou incorretas. **3. Prompts Vagos:** Usar prompts genéricos como "melhore este código" sem especificar o objetivo (performance, legibilidade, segurança), resultando em mudanças que não atendem à necessidade real. **4. Ignorar *Code Smells*:** Não pedir à IA para identificar e resolver *code smells* específicos (e.g., funções longas, duplicação, dependência de variáveis globais), perdendo a oportunidade de uma refatoração mais profunda. **5. Quebra de Contrato:** A refatoração da IA pode inadvertidamente alterar a assinatura de funções ou o comportamento de APIs, o que deve ser sempre verificado.

## URL
[https://builtin.com/articles/code-refactoring-prompt](https://builtin.com/articles/code-refactoring-prompt)
